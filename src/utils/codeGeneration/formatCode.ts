const formatCode = async (code: string) => {
  let formattedCode = `// ðŸš¨ Your props contains invalid code`

  const prettier = await import('prettier/standalone')
  const babylonParser = await import('prettier/parser-babylon')

  try {
    formattedCode = prettier.format(code, {
      parser: 'babel',
      plugins: [babylonParser],
      semi: false,
      singleQuote: true,
    })
  } catch (e) {
    formattedCode = e.name + ': ' + e.message
  }

  return formattedCode
}

export default formatCode
